/*!
 * Studio Riehl -  v1.0.0 (https://github.com/slsriehl/todo-hbs-less#readme)
 * Copyright 2017-2017 Sarah Schieffer Riehl
 * Licensed under  ()
 */
var auth,createCookie,cruds,deleteAccount,formToJSON,getLogin,getSettings,getSignup,getTodos,hideShow,hideShowSubmit,isValidElement,isValidValue,logout,postContexts,postItems,postLogin,postSignup,putSettings,readCookie,toggleRadios;createCookie=function(e,o,t){var n,i;return t?(n=new Date,n.setTime(n.getTime()+24*t*60*60*1e3),i="; expires="+n.toGMTString()):i="",document.cookie=e+"="+o+i+"; path=/"},readCookie=function(e){var o,t,n,i,r,s;for(n=" "+document.cookie,o=n.split(";"),console.log(o),i=r=0,s=o.length;r<s;i=++r)if(o[i],t=o[i].split("="),console.log(t),t[0]===" "+e)return console.log(t[1]),t[1];return null},isValidElement=function(e){return e.name&&e.value},isValidValue=function(e){return!["checkbox","radio"].includes(e.type)||e.checked},formToJSON=function(e){return[].reduce.call(e,function(e,o){return isValidElement(o)&&isValidValue(o)&&(e[o.name]=o.value),e},{})},cruds=function(e,o){return e&&e.preventDefault(),o.then(function(e){if(console.log(e),$("#content").html(e.data),e.headers.cookie)return createCookie("do-it",e.headers.cookie,3)}).catch(function(e){return console.log(e)})},auth=function(e){var o;return e&&"undefined"!==e?(console.log("auth fired"),o=axios.get("/item",{headers:{clientcookie:e}}),cruds(event,o)):getLogin(null)},getSignup=function(e){var o;return o=axios.get("/user/signup"),cruds(e,o)},getLogin=function(e){var o;return o=axios.get("/user/login"),cruds(e,o)},getSettings=function(e){var o,t;return t=readCookie("do-it"),o=axios.get("/user",{headers:{clientcookie:t}}),cruds(e,o)},postSignup=function(e){var o,t;return hideShowSubmit(),t=formToJSON(e.target.elements),console.log(t),o=axios.post("/user/signup",t),cruds(e,o)},postLogin=function(e){var o,t;return hideShowSubmit(),t=formToJSON(e.target.elements),o=axios.post("/user/login",t),cruds(e,o)},putSettings=function(e){var o,t,n;return hideShowSubmit(),$(".hide-show").parent().find('[name="newPassword"]').attr("type","password"),n=formToJSON(e.target.elements),t=readCookie("do-it"),console.log(n),o=axios.put("/user",n,{headers:{clientcookie:t}}),cruds(e,o)},logout=function(e){var o;return o=axios.delete("/user/logout"),cruds(e,o)},deleteAccount=function(e){var o,t,n;return n={password:$("#password").val()},t=readCookie("do-it"),console.log(n),o=axios.delete("/user",n,{headers:{clientcookie:t}}),cruds(e,o)},postContexts=function(e){var o,t,n;return n=formToJSON(e.target.elements),console.log(n),t=readCookie("do-it"),o=axios.post("/context",n,{headers:{clientcookie:t}}),cruds(e,o)},getTodos=function(e){var o,t;return t=readCookie("do-it"),o=axios.get("/item",{headers:{clientcookie:t}}),cruds(e,o)},postItems=function(e){var o,t,n;return n=formToJSON(e.target.elements),t=readCookie("do-it"),console.log(n),o=axios.post("/item",n,{headers:{clientcookie:t}}),cruds(e,o)},hideShow=function(e){return $(this).hasClass("show")?($(".hide-show span").text("Hide"),$('[name="password"]').attr("type","text"),$('[name="newPassword"]').attr("type","text"),$(".hide-show span").removeClass("show")):($(".hide-show span").text("Show"),$('[name="password"]').attr("type","password"),$('[name="newPassword"]').attr("type","password"),$(".hide-show span").addClass("show"))},hideShowSubmit=function(){return $(".hide-show span").text("Show").addClass("show"),$(".hide-show").parent().find('[name="password"]').attr("type","password")},toggleRadios=function(e){return $(this).hasClass("checked")?($(this).children("input").prop("checked",!1),$(this).removeClass("checked")):($(this).children("input").prop("checked",!0),$(this).addClass("checked"))},$(document).ready(function(){if(console.log($("#intro").text().trim()),"Welcome to the do-It task management application"===$("#intro").text().trim())return auth(readCookie("do-it"))});